exec "overrides/autoexec.cfg"

// Debug line
echo "----------------------------------- Loaded engineer.cfg -----------------------------------"

// Modified version of Instant Eureka Effect but mapped to "Home/End" instead
// Source: https://gamebanana.com/scripts/8512
alias QuickTele "slot3; +attack; wait 2; -attack; eureka_teleport 1; slot1; +attack; wait 2; -attack;"
alias QuickHome "slot3; +attack; wait 2; -attack; eureka_teleport 0; slot1; +attack; wait 2; -attack;"
bind "E" QuickHome
bind "R" QuickTele

// Cash in Frontier Justice crits
alias destroy_snetty "destroy 2 0;"
// Used to destroy all building when forward spawned
alias destroy_all "destroy 2 0; destroy 0 0; destroy 1 0; destroy 1 1;"

// Use destroy_snetty and distroy_all with the middle mouse
bind "MOUSE3" layer_mouse3

// Quick create and destroy binds mapped to the last alphabetical row
// Yes, the numerical order doesn not match the PDA arrangement
// No, this does not make sense
alias rebuild_sentry "destroy 2 0; build 2 0;"
alias rebuild_dispenser "destroy 0 0; build 0 0;"
alias rebuild_entrance "destroy 1 0; build 1 0;"
alias rebuild_exit "destroy 1 1; build 1 1;"

// The Shift modifier will make the PDA rebuild keys repurposed
// to be load item preset keys, I use this to switch between weapon sets
alias load_slot1 "load_itempreset 0"
alias load_slot2 "load_itempreset 1"
alias load_slot3 "load_itempreset 2"
alias load_slot4 "load_itempreset 3"

// We are defining two layers of functionality for the bottom row (Z, X, C, V keys),
// they will act as rebuild binds and with shift, act as loadout binds
bind shift +toggleState

// Bind them to layers
bind "Z" layer_z
bind "X" layer_x
bind "C" layer_c
bind "V" layer_v

// Define first layer
alias zxcv_layer1 "alias layer_mouse3 destroy_snetty; alias layer_z rebuild_sentry; alias layer_x rebuild_dispenser; alias layer_c rebuild_entrance; alias layer_v rebuild_exit;"

// Define second layer
alias zxcv_layer2 "alias layer_mouse3 destroy_all; alias layer_z load_slot1; alias layer_x load_slot2; alias layer_c load_slot3; alias layer_v load_slot4;"

// Execute first layer as default
zxcv_layer1

// Bind Shift key to second layer
bind shift +toggleState
alias +toggleState "zxcv_layer2"

// Bind releasing the Shift key to return back to first layer
alias -toggleState "zxcv_layer1"
